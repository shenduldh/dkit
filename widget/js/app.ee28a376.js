(function(e){function t(t){for(var n,o,s=t[0],c=t[1],d=t[2],p=0,u=[];p<s.length;p++)o=s[p],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&u.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(u.length)u.shift()();return i.push.apply(i,d||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,s=1;s<a.length;s++){var c=a[s];0!==r[c]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={app:0},i=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var l=c;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"01ef":function(e,t,a){"use strict";a("12d6")},"0fc2":function(e,t,a){"use strict";a("dfa7")},"12d6":function(e,t,a){},"1bd9":function(e,t,a){},"2e4b":function(e,t,a){"use strict";a("4749")},"2f69":function(e,t,a){"use strict";a("9b9f")},4678:function(e,t,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id="4678"},4749:function(e,t,a){},5006:function(e,t,a){"use strict";a("928e")},6552:function(e,t,a){},"6c81":function(e,t,a){"use strict";a("f0cc")},"928e":function(e,t,a){},"9b9f":function(e,t,a){},be79:function(e,t,a){"use strict";a("bf36")},bf36:function(e,t,a){},c668:function(e,t,a){},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("7a23"),r=Object(n["z"])("data-v-b0d75fce");Object(n["n"])("data-v-b0d75fce");var i={class:"left"},o={class:"up"},s={class:"down"},c={class:"right"};Object(n["l"])();var d=r((function(e,t,a,r,d,l){var p=Object(n["r"])("Editor"),u=Object(n["r"])("WidgetList"),g=Object(n["r"])("AttrList"),b=Object(n["r"])("Node");return Object(n["k"])(),Object(n["d"])(n["a"],null,[Object(n["g"])("main",null,[Object(n["g"])("div",i,[Object(n["g"])("div",o,[Object(n["g"])(p)]),Object(n["g"])("div",s,[Object(n["g"])(u)])]),Object(n["g"])("div",c,[Object(n["g"])(g)])]),(Object(n["k"])(!0),Object(n["d"])(n["a"],null,Object(n["q"])(e.state.rootWidget.realNodes,(function(e){return Object(n["k"])(),Object(n["d"])("div",{key:e.id},[Object(n["g"])(b,{me:e},null,8,["me"])])})),128))],64)}));function l(e,t,a,r,i,o){return Object(n["k"])(),Object(n["d"])("div",null,[Object(n["g"])("button",{onClick:t[1]||(t[1]=function(t){return e.changeWidgetSize("small")})},"small"),Object(n["g"])("button",{onClick:t[2]||(t[2]=function(t){return e.changeWidgetSize("medium")})},"medium"),Object(n["g"])("button",{onClick:t[3]||(t[3]=function(t){return e.changeWidgetSize("large")})},"large"),Object(n["g"])("button",{onClick:t[4]||(t[4]=function(){return e.handleRemove&&e.handleRemove.apply(e,arguments)})},"删除"),Object(n["g"])("button",{onClick:t[5]||(t[5]=function(){return e.handleExport&&e.handleExport.apply(e,arguments)})},"导出"),(Object(n["k"])(),Object(n["d"])(Object(n["s"])(e.rootWidget.type),{me:e.rootWidget},null,8,["me"]))])}var p,u,g;a("4160"),a("d81d"),a("fb6a"),a("a434"),a("159b");(function(e){e["LIST"]="ListWidget",e["DATE"]="WidgetDate",e["IMAGE"]="WidgetImage",e["SPACER"]="WidgetSpacer",e["STACK"]="WidgetStack",e["TEXT"]="WidgetText"})(p||(p={})),function(e){e["X"]="width",e["Y"]="height"}(u||(u={})),function(e){e["STATE"]="state",e["TYPEOFADDEDWIDGET"]="typeOfAddedWidget"}(g||(g={}));a("45fc"),a("a9e3");var b=a("ade3"),f=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16,r=document.createElement("div");r.innerText=e,r.style.wordWrap="break-word",r.style.display="inline-block",r.style.fontSize=n+"px",r.style.lineHeight=n+"px",a.width&&(r.style.maxWidth=a.width+"px"),a.height&&(r.style.maxHeight=a.height+"px"),document.body.appendChild(r);var i=+getComputedStyle(r)[t].slice(0,-2);return document.body.removeChild(r),i};function m(e,t){var a,n=(a={},Object(b["a"])(a,p.STACK,(function(e,t){var a,n,r,i,o=(a={},Object(b["a"])(a,u.X,e.attrs.size.width),Object(b["a"])(a,u.Y,e.attrs.size.height),a),s=(n={},Object(b["a"])(n,u.X,o[u.X]||t.maxSize[u.X]),Object(b["a"])(n,u.Y,o[u.Y]||t.maxSize[u.Y]),n),c=(r={},Object(b["a"])(r,u.X,e.attrs.padding.left+e.attrs.padding.right),Object(b["a"])(r,u.Y,e.attrs.padding.top+e.attrs.padding.bottom),r);s.width-=c.width,s.height-=c.height,s.width<0&&(s.width=0),s.height<0&&(s.height=0);var d,l=e.attrs.layout,g=l===u.X?u.Y:u.X,f=t.parentAlign,y=e.showNodes.map((function(e){return e})),j=[],h=!0,v=s[l],O={parentAlign:l,maxSize:{width:0,height:0}};while(h)h=!1,O.maxSize[l]=v/y.length,O.maxSize[g]=s[g],y.forEach((function(e,t,a){if(d=m(e,O),d)return v-=e.size[l],a.splice(t,1),void(h=!0);e.type===p.SPACER&&(a.splice(t,1),j.push(e),h=!0)}));var x=(i={},Object(b["a"])(i,u.X,0),Object(b["a"])(i,u.Y,0),i);if(e.showNodes.forEach((function(e){x[l]+=e.size[l],e.size[g]>x[g]&&(x[g]=e.size[g])})),j.length>0){var w=(s[l]-x[l])/j.length;j.forEach((function(e){e.size[l]=w,x[l]+=w}))}return e.size[l]=o[l]||x[l]+c[l]||50,e.size[g]=o[g]||x[g]+c[g]||50,!!o[f]||!e.realNodes.some((function(e){return e.type===p.IMAGE&&"fill"===e.attrs.contentMode}))&&Math.floor(x[g])!==Math.floor(t.maxSize[f])})),Object(b["a"])(a,p.TEXT,(function(e,t){var a,n=t.parentAlign,r=n==u.X?u.Y:u.X,i=e.attrs.text||e.text,o=e.attrs.font.size,s=t.maxSize[n],c=o*e.attrs.lineLimit,d=f(i,n,Object(b["a"])({},r,t.maxSize[r]),o),l=d;if(n===u.Y&&c>0&&(l=Math.min(d,c)),l<s)return e.size[r]=f(i,r,(a={},Object(b["a"])(a,r,t.maxSize[r]),Object(b["a"])(a,n,l),a),o),e.size[n]=l,!0;var p=f(i,r,t.maxSize,o),g=t.maxSize[r];return n===u.X&&c>0?e.size[r]=Math.min(p,g,c):e.size[r]=Math.min(p,g),e.size[n]=s,!1})),Object(b["a"])(a,p.DATE,(function(e,t){return n[p.TEXT](e,t)})),Object(b["a"])(a,p.IMAGE,(function(e,t){var a=t.parentAlign,n=a===u.X?u.Y:u.X,r=e.rawImageSize[a]/e.rawImageSize[n],i=e.attrs.imageSize[u.Y],o=e.attrs.imageSize[u.X];if(i>0||o>0)return e.size[u.X]=o,e.size[u.Y]=i,!0;if(!e.attrs.resizable)return e.size[u.X]=e.rawImageSize[u.X],e.size[u.Y]=e.rawImageSize[u.Y],!0;if("fill"===e.attrs.contentMode){var s=r*t.maxSize[n];return s>t.maxSize[a]?(e.size[n]=t.maxSize[n],e.size[a]=s):(s=1/r*t.maxSize[a],e.size[n]=s,e.size[a]=t.maxSize[a]),!1}var c=r*t.maxSize[n];return c<=t.maxSize[a]?(e.size[n]=t.maxSize[n],e.size[a]=c,!0):(e.size[n]=1/r*t.maxSize[a],e.size[a]=t.maxSize[a],!1)})),Object(b["a"])(a,p.SPACER,(function(e,t){var a=t.parentAlign,n=a===u.X?u.Y:u.X,r=Number(e.attrs.length);return r?(e.size[a]=r,e.size[n]=0,!0):(e.size[a]=0,e.size[n]=0,!1)})),a);return n[e.type](e,t)}var y=function(e){var t,a,n=e.size.height-e.attrs.padding.top-e.attrs.padding.bottom,r=e.size.width-e.attrs.padding.left-e.attrs.padding.right,i=e.showNodes.map((function(e){return e})),o=[],s=!0,c=n;while(s){var d;s=!1,t={parentAlign:u.Y,maxSize:(d={},Object(b["a"])(d,u.X,r),Object(b["a"])(d,u.Y,c/i.length),d)},i.forEach((function(e,n,r){if(a=m(e,t),a)return c-=e.size[u.Y],r.splice(n,1),void(s=!0);e.type===p.SPACER&&(r.splice(n,1),o.push(e),s=!0)}))}var l=0;if(e.showNodes.forEach((function(e){l+=e.size.height})),o.length>0){var g=(n-l)/o.length;o.forEach((function(e){e.size[u.Y]=g,e.size[u.X]=0}))}},j=function(e){return"\n    class Context {\n        constructor(data) {\n            this.data = data || {};\n        }\n        push(newData) {\n            let copyData = {};\n            for (let k in this.data) {\n                copyData[k] = this.data[k];\n            }\n            for (let k in newData) {a\n                copyData[k] = newData[k];\n            }\n            return new Context(copyData);\n        }\n        pop() {\n            return this.data;\n        }\n    }\n    \n    class Render {\n        constructor(ast) {\n            this.ast = ast;\n        }\n    \n        async show() {\n            const type = config.widgetFamily;\n            if (type) {\n                Script.setWidget(this.render(ast));\n                return;\n            }\n            const opts = ['small', 'medium', 'large'];\n            const funcs = ['presentSmall', 'presentMedium', 'presentLarge'];\n            const index = await generateAlert('预览大小', opts);\n            await this.render(ast)[funcs[index]]();\n        }\n    \n        render(ast) {\n            const hdlFuncSet = {\n                stack(me, parent, ctx) {\n                    const stack = parent.addStack();\n                    applyAttrs(stack, me.attrs, ctx);\n                    me.children.forEach(child => {\n                        process(child, stack, ctx);\n                    });\n                },\n                image(me, parent, ctx) {\n                    const imageData = Data.fromBase64String(me.children[0]);\n                    const image = Image.fromData(imageData);\n                    applyAttrs(parent.addImage(image), me.attrs, ctx);\n                },\n                text(me, parent, ctx) {\n                    let match,\n                        array = [],\n                        str = me.children[0];\n                    while ((match = str.match(/\\{\\{.*?\\}\\}/))) {\n                        array.push(str.substring(0, match.index));\n                        array.push(echo(match[0], ctx));\n                        str = str.substring(match.index + match[0].length);\n                    }\n                    array.push(str);\n                    applyAttrs(parent.addText(array.join('')), me.attrs, ctx);\n                },\n                date(me, parent, ctx) {\n                    applyAttrs(parent.addDate(new Date(echo(me.attrs.date, ctx))), me.attrs, ctx);\n                },\n                spacer(me, parent, ctx) {\n                    parent.addSpacer(echo(me.children[0] || null, ctx));\n                },\n            };\n            const that = this;\n            const ctx = new Context({});\n            const root = ast;\n            const widget = new ListWidget();\n            applyAttrs(widget, root.attrs, ctx);\n            root.children.forEach(child => process(child, widget, ctx));\n            return widget;\n    \n            function process(me, parent, ctx) {\n                const func = hdlFuncSet[me.tagName];\n                func && func(me, parent, ctx);\n            }\n    \n            function echo(exp, ctx) {\n                if (typeof exp !== 'string') return exp; // not string\n                const match = exp.match(/\\{\\{\\s*([^\\s]+)\\s*\\}\\}/);\n                if (!match) return exp; // not exp\n                exp = match[1];\n                const data = ctx.pop();\n                let str = '{';\n                if (Object.keys(data).length !== 0) {\n                    for (let k in data) {\n                        str += k + ',';\n                    }\n                    str = str.substring(0, str.length - 1) + '}';\n                } else {\n                    str = '{}';\n                }\n                return new Function(\n                    'data',\n                    `const ${str}={...data};return ${exp};`\n                )(data);\n            }\n    \n            function applyAttrs(ele, attrs, ctx) {\n                for (let key in attrs) {\n                    if (!key) return;\n                    that.getAttrFunc(key)?.apply(null, [ele].concat(echo(attrs[key], ctx)));\n                }\n            }\n        }\n    \n        getAttrFunc(key) {\n            console.log(\"======\" + key + \"======\")\n            return {\n                // property:\n                // widget、stack\n                backgroundColor(obj, color) {\n                    obj.backgroundColor = new Color(color);\n                },\n                backgroundGradient(obj, gradVal) {\n                    if (gradVal.colors === \"\" || gradVal.locations === \"\") return;\n                    const lg = new LinearGradient()\n                    lg.colors = gradVal.colors.split(',').map(c => new Color(c))\n                    lg.locations = gradVal.locations.split(',').map(l => Number(l))\n                    lg.startPoint = new Point(0, 0)\n                    lg.endPoint = new Point(Math.sin(gradVal.angle), Math.cos(gradVal.angle))\n                    obj.backgroundGradient = lg;\n                },\n                bgImageDate(obj, base64ImageDate) {\n                    const imageDate = Data.fromBase64String(base64ImageDate)\n                    const image = Image.fromData(imageDate)\n                    obj.backgroundImage = image;\n                },\n                spacing(obj, number) {\n                    obj.spacing = number;\n                },\n                // stack\n                size(obj, size) {\n                    obj.size = new Size(size.width, size.height);\n                },\n                // widget\n                refreshAfterDate(obj, date) {\n                    obj.refreshAfterDate = new Date(date);\n                },\n                // common\n                url(obj, url) {\n                    obj.url = url;\n                },\n                // text、date\n                font(obj, font) {\n                    obj.font = new Font(font.type, font.size);\n                },\n                lineLimit(obj, number) {\n                    obj.lineLimit = number;\n                },\n                minimumScaleFactor(obj, number) {\n                    obj.minimumScaleFactor = number;\n                },\n                shadowColor(obj, color) {\n                    obj.shadowColor = new Color(color);\n                },\n                shadowOffset(obj, offset) {\n                    obj.shadowOffset = new Point(offset.x, offset.y);\n                },\n                shadowRadius(obj, radius) {\n                    obj.shadowRadius = radius;\n                },\n                textColor(obj, color) {\n                    obj.textColor = new Color(color);\n                },\n                textOpacity(obj, opacity) {\n                    obj.textOpacity = opacity;\n                },\n                // stack、image\n                borderColor(obj, color) {\n                    obj.borderColor = new Color(color);\n                },\n                borderWidth(obj, width) {\n                    obj.borderWidth = width;\n                },\n                cornerRadius(obj, radius) {\n                    obj.cornerRadius = radius;\n                },\n                // image\n                containerRelativeShape(obj, bool) {\n                    obj.containerRelativeShape = bool;\n                },\n                imageOpacity(obj, opacity) {\n                    obj.imageOpacity = opacity;\n                },\n                imageSize(obj, size) {\n                    if (size.width > 0 && size.height > 0)\n                        obj.imageSize = new Size(size.width, size.height);\n                },\n                resizable(obj, bool) {\n                    obj.resizable = bool;\n                },\n                tintColor(obj, color) {\n                    obj.tintColor = new Color(color);\n                },\n                // methods:\n                // stack、widget\n                padding(obj, padding) {\n                    obj.setPadding(padding.top, padding.left, padding.bottom, padding.right);\n                },\n                // stack\n                alignContent(obj, type) {\n                    const typeMap = {\n                        'flex-start': 'topAlignContent',\n                        'flex-end': 'bottomAlignContent',\n                        'center': 'centerAlignContent',\n                    }\n                    obj[typeMap[type]]()\n                },\n                layout(obj, type) {\n                    const typeMap = {\n                        width: 'layoutHorizontally',\n                        height: 'layoutVertically'\n                    }\n                    obj[typeMap[type]]()\n                },\n                // text、date\n                alignText(obj, type) {\n                    const typeMap = {\n                        'flex-start': 'leftAlignText',\n                        'flex-end': 'rightAlignText',\n                        'center': 'centerAlignText',\n                    }\n                    obj[typeMap[type]]()\n                },\n                // Image\n                alignImage(obj, type) {\n                    const typeMap = {\n                        'flex-start': 'leftAlignImage',\n                        'flex-end': 'rightAlignImage',\n                        'center': 'centerAlignImage',\n                    }\n                    obj[typeMap[type]]()\n                },\n                contentMode(obj, type) {\n                    const typeMap = {\n                        fit: 'applyFittingContentMode',\n                        fill: 'applyFillingContentMode',\n                    }\n                    obj[typeMap[type]]()\n                },\n                // date\n                style(obj, type) {\n                    const typeMap = {\n                        date: 'applyDateStyle',\n                        time: 'applyTimeStyle',\n                        timer: 'applyTimerStyle',\n                        relative: 'applyRelativeStyle',\n                        offset: 'applyOffsetStyle',\n                    }\n                    obj[typeMap[type]]()\n                }\n            }[key];\n        }\n    }\n    \n    async function generateAlert(message, options) {\n        let alert = new Alert();\n        alert.message = message;\n        for (const option of options) {\n            alert.addAction(option);\n        }\n        return await alert.presentAlert();\n    }\n    \n    const ast = JSON.parse('".concat(e,"')\n    const render = new Render(ast)\n    await render.show()\n    Script.complete()    \n    ")},h=Object(n["h"])({setup:function(){var e=Object(n["i"])(g.STATE),t=e.rootWidget,a=function(e){var a={small:{width:149,height:149},medium:{width:320,height:149},large:{width:320,height:320}};t.size.width=a[e].width,t.size.height=a[e].height,y(t)},r=function t(a){var n=e.curWidget.id;a.realNodes.forEach((function(e,a,r){e.id!==n?e.type===p.STACK&&t(e):r.splice(a,1)}))},i=function(){r(t),e.curWidget=t},o=function e(t){var a={},n={ListWidget:"widget",WidgetDate:"date",WidgetImage:"image",WidgetSpacer:"spacer",WidgetStack:"stack",WidgetText:"text"};if(a.tagName=n[t.type],a.attrs=t.attrs,t.type===p.LIST||t.type===p.STACK){var r=t;return a.children=r.realNodes.map((function(t){return e(t)})),a.attrs.bgImageDate=r.bgImageDate,a}if(t.type===p.DATE||t.type===p.IMAGE){var i=t;return a.children=[i.rawImageDate.slice(22)],a}if(t.type===p.TEXT){var o=t;return a.children=[o.attrs.text],a}if(t.type===p.SPACER){var s=t;return a.children=[s.attrs.length],a}},s=function(){var e=o(t),a="render.js",n=j(JSON.stringify(e)),r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(n)),r.setAttribute("download",a),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)};return{rootWidget:t,changeWidgetSize:a,handleRemove:i,handleExport:s}}});h.render=l;var v=h,O=Object(n["z"])("data-v-2b570b7c");Object(n["n"])("data-v-2b570b7c");var x={draggable:"true"},w={draggable:"true"},z={draggable:"true"},T={draggable:"true"},S={draggable:"true"};Object(n["l"])();var k=O((function(e,t,a,r,i,o){return Object(n["k"])(),Object(n["d"])("div",{class:"compList",onDragstart:t[1]||(t[1]=function(){return e.handleDragStart&&e.handleDragStart.apply(e,arguments)})},[Object(n["g"])("div",x,Object(n["t"])(e.widgetType.TEXT),1),Object(n["g"])("div",w,Object(n["t"])(e.widgetType.DATE),1),Object(n["g"])("div",z,Object(n["t"])(e.widgetType.IMAGE),1),Object(n["g"])("div",T,Object(n["t"])(e.widgetType.STACK),1),Object(n["g"])("div",S,Object(n["t"])(e.widgetType.SPACER),1)],32)})),D=Object(n["h"])({setup:function(){var e=function(e){var t=e.target,a=t.innerText,n=e.dataTransfer;n.setData(g.TYPEOFADDEDWIDGET,a)};return{widgetType:p,handleDragStart:e}}});a("2e4b");D.render=k,D.__scopeId="data-v-2b570b7c";var C=D;function W(e,t,a,r,i,o){var s=Object(n["r"])("AttrItem");return Object(n["k"])(),Object(n["d"])(n["a"],null,[Object(n["g"])("h3",null,Object(n["t"])(e.state.curWidget.type),1),(Object(n["k"])(!0),Object(n["d"])(n["a"],null,Object(n["q"])(e.state.curWidget.attrs,(function(t,a){return Object(n["k"])(),Object(n["d"])("div",{key:e.state.curWidget.id+a},[Object(n["g"])(s,{config:e.map[a],model:e.state.curWidget.attrs,myKey:a,id:e.state.curWidget.id},null,8,["config","model","myKey","id"])])})),128))],64)}var I=0,A=function(){return I++},E=Object(n["h"])({setup:function(){var e=Object(n["i"])(g.STATE),t={date:{name:"日期",type:"datetime-local",valueType:"string"},font:{name:"字体",type:"title",content:{size:{name:"大小",type:"number",valueType:"number"},type:{name:"类型",type:"text",valueType:"string"}}},lineLimit:{name:"行数限制",type:"number",valueType:"number"},minimumScaleFactor:{name:"最小缩放因子",type:"number",valueType:"number"},shadowColor:{name:"阴影颜色",type:"color",valueType:"string"},shadowOffset:{name:"阴影偏移",type:"title",content:{x:{name:"x",type:"number",valueType:"number"},y:{name:"y",type:"number",valueType:"number"}}},shadowRadius:{name:"阴影弧度",type:"number",valueType:"number"},textColor:{name:"文本颜色",type:"color",valueType:"string"},textOpacity:{name:"文本透明度",type:"number",valueType:"number"},url:{name:"跳转链接",type:"text",valueType:"string"},style:{name:"日期样式",type:"select",valueType:"string",options:{"日期":"date","时间":"time","计时器":"timer","相对":"relative","偏移":"offset"}},alignText:{name:"文本对齐",type:"select",valueType:"string",options:{"靠左":"flex-start","居中":"center","靠右":"flex-end"}},image:{name:"图片",type:"text",valueType:"string"},borderColor:{name:"边框颜色",type:"color",valueType:"string"},borderWidth:{name:"边框宽度",type:"number",valueType:"number"},containerRelativeShape:{name:"图片拐角是否依赖于容器",type:"select",valueType:"boolean",options:{"是":!0,"否":!1}},imageOpacity:{name:"图片透明度",type:"number",valueType:"number"},imageSize:{name:"图片尺寸",type:"title",content:{width:{name:"宽度",type:"number",valueType:"number"},height:{name:"高度",type:"number",valueType:"number"}}},resizable:{name:"是否可以缩放",type:"select",valueType:"boolean",options:{"是":!0,"否":!1}},tint:{name:"蒙版",type:"title",content:{color:{name:"颜色",type:"color",valueType:"string"},opacity:{name:"透明度",type:"number",valueType:"number"}}},contentMode:{name:"填充模式",type:"select",valueType:"string",options:{"适当":"fit","充满":"fill"}},alignImage:{name:"图片对齐",type:"select",valueType:"string",options:{"靠左":"flex-start","居中":"center","靠右":"flex-end"}},text:{name:"文本",type:"text",valueType:"string"},length:{name:"空白长度",type:"number",valueType:"string"},backgroundColor:{name:"背景颜色",type:"color",valueType:"string"},backgroundGradient:{name:"背景渐进色",type:"title",content:{colors:{name:"颜色集合",type:"text",valueType:"string"},locations:{name:"位置集合",type:"text",valueType:"string"},angle:{name:"角度",type:"number",valueType:"number"}}},backgroundImage:{name:"背景图片",type:"text",valueType:"string"},refreshAfterDate:{name:"刷新时间",type:"datetime-local",valueType:"string"},spacing:{name:"内部间距",type:"number",valueType:"number"},padding:{name:"外部边距",type:"title",content:{top:{name:"上边距",type:"number",valueType:"number"},left:{name:"左边距",type:"number",valueType:"number"},bottom:{name:"下边距",type:"number",valueType:"number"},right:{name:"右边距",type:"number",valueType:"number"}}},size:{name:"容器尺寸",type:"title",content:{width:{name:"宽度",type:"number",valueType:"number"},height:{name:"高度",type:"number",valueType:"number"}}},cornerRadius:{name:"拐角弧度",type:"number",valueType:"number"},layout:{name:"布局方式",type:"select",valueType:"string",options:{"横向布局":u.X,"纵向布局":u.Y}},alignContent:{name:"内容对齐",type:"select",valueType:"string",options:{"顶部":"flex-start","底部":"flex-end","居中":"center"}}};return{state:e,map:t,genID:A}}});E.render=W;var M=E,L=function(e){var t,a,n,r,i,o,s,c,d,l,g=(l={},Object(b["a"])(l,p.DATE,{id:A(),type:p.DATE,text:"请选择日期",attrs:{date:"",font:{size:16,type:""},shadowColor:"#000",shadowOffset:{x:0,y:0},shadowRadius:0,textColor:"#fff",textOpacity:1,lineLimit:0,url:"",style:"date",alignText:"flex-start",minimumScaleFactor:1},size:(t={},Object(b["a"])(t,u.X,0),Object(b["a"])(t,u.Y,0),t)}),Object(b["a"])(l,p.IMAGE,{id:A(),type:p.IMAGE,attrs:{image:"./test1.jpg",borderColor:"#000",borderWidth:0,imageOpacity:1,cornerRadius:0,imageSize:(a={},Object(b["a"])(a,u.X,0),Object(b["a"])(a,u.Y,0),a),tint:{color:"#000",opacity:0},contentMode:"fit",alignImage:"flex-start",url:"",containerRelativeShape:!1,resizable:!0},size:(n={},Object(b["a"])(n,u.X,0),Object(b["a"])(n,u.Y,0),n),rawImageDate:"",rawImageSize:(r={},Object(b["a"])(r,u.X,0),Object(b["a"])(r,u.Y,0),r)}),Object(b["a"])(l,p.TEXT,{id:A(),type:p.TEXT,attrs:{text:"请输入文本",font:{size:16,type:""},shadowColor:"#000",shadowOffset:{x:0,y:0},shadowRadius:0,textColor:"#fff",textOpacity:1,lineLimit:0,url:"",alignText:"flex-start",minimumScaleFactor:1},size:(i={},Object(b["a"])(i,u.X,0),Object(b["a"])(i,u.Y,0),i)}),Object(b["a"])(l,p.SPACER,{id:A(),type:p.SPACER,attrs:{length:0},size:(o={},Object(b["a"])(o,u.X,0),Object(b["a"])(o,u.Y,0),o)}),Object(b["a"])(l,p.LIST,{id:A(),type:p.LIST,bgImageDate:"",attrs:{backgroundColor:"#000",backgroundGradient:{colors:"",locations:"",angle:90},backgroundImage:"",spacing:0,padding:{top:20,left:20,bottom:20,right:20},url:"",refreshAfterDate:""},size:(s={},Object(b["a"])(s,u.X,320),Object(b["a"])(s,u.Y,149),s),showNodes:[],realNodes:[]}),Object(b["a"])(l,p.STACK,{id:A(),type:p.STACK,bgImageDate:"",attrs:{size:(c={},Object(b["a"])(c,u.X,0),Object(b["a"])(c,u.Y,0),c),backgroundColor:"",backgroundGradient:{colors:"",locations:"",angle:90},backgroundImage:"",borderColor:"#fff",borderWidth:1,cornerRadius:0,spacing:0,padding:{top:0,left:0,bottom:0,right:0},url:"",layout:u.X,alignContent:"flex-start"},size:(d={},Object(b["a"])(d,u.X,0),Object(b["a"])(d,u.Y,0),d),showNodes:[],realNodes:[]}),l);return g[e]},R=Object(n["h"])({components:{Editor:v,WidgetList:C,AttrList:M},setup:function(){var e=L(p.LIST),t=Object(n["o"])(e),a=Object(n["o"])({rootWidget:e,curWidget:t});return Object(n["m"])(g.STATE,a),{state:a,widgetType:p}}});a("01ef");R.render=d,R.__scopeId="data-v-b0d75fce";var N=R,X=Object(n["z"])("data-v-22877752"),Y=X((function(e,t,a,r,i,o){return Object(n["k"])(),Object(n["d"])("div",{class:"listWidget",ref:"myDOM",onDragover:t[1]||(t[1]=function(){return e.handleDragOver&&e.handleDragOver.apply(e,arguments)}),onDrop:t[2]||(t[2]=function(){return e.handleDrop&&e.handleDrop.apply(e,arguments)}),onDragleave:t[3]||(t[3]=function(){return e.handleDragLeave&&e.handleDragLeave.apply(e,arguments)}),onClick:t[4]||(t[4]=function(){return e.selectCurWidget&&e.selectCurWidget.apply(e,arguments)})},[(Object(n["k"])(!0),Object(n["d"])(n["a"],null,Object(n["q"])(e.me.showNodes,(function(t){return Object(n["k"])(),Object(n["d"])(Object(n["s"])(t.type),{key:t.id,me:t,parentType:e.me.type},null,8,["me","parentType"])})),128))],544)})),P=(a("7db0"),a("13d5"),a("ac1f"),a("1276"),function(e){var t=document.createElement("canvas"),a=t.getContext("2d");return t.width=e.width,t.height=e.height,a.drawImage(e,0,0,e.width,e.height),t.toDataURL("image/png")}),_=Object(n["h"])({props:{me:{type:Object,required:!0}},setup:function(e){var t=Object(n["p"])(),a=Object(n["o"])(e.me),r=Object(n["i"])(g.STATE),i=function(e){e.stopPropagation(),e.preventDefault(),r.curWidget=a};Object(n["j"])((function(){var e=t.value,r=a.realNodes.length,i=a.attrs.padding.top+a.attrs.padding.bottom+a.attrs.padding.right+a.attrs.padding.left,o=a.attrs.spacing;Object(n["x"])([a.realNodes,a.attrs,a.size],(function(){var t;a.realNodes.length===r&&o===a.attrs.spacing||(r=a.realNodes.length,o=a.attrs.spacing,a.showNodes=a.realNodes.map((function(e){return e})),o>0&&a.showNodes.forEach((function(e,t,a){if(t!=r-1){var n=L(p.SPACER);n.attrs.length=o,a.splice(2*t-1,0,n)}})),y(a)),e.style.width=a.size.width+"px",e.style.height=a.size.height+"px",e.style.backgroundColor=a.attrs.backgroundColor,e.style.backgroundImage="";var n=a.attrs.backgroundGradient.angle+"deg",s=a.attrs.backgroundGradient.colors.split(","),c=a.attrs.backgroundGradient.locations.split(","),d=s.reduce((function(e,t,a){var n=100*Number(c[a])+"%";return e+t+" "+n+","}),"").slice(0,-1);e.style.backgroundImage="linear-gradient("+n+", "+d+" )";var l=a.attrs.backgroundImage;if(l){var u=new Image;u.onload=function(){var t=P(u);e.style.backgroundImage="url("+t+")",a.bgImageDate=t.slice(22)},u.src=l}e.style.paddingTop=a.attrs.padding.top+"px",e.style.paddingLeft=a.attrs.padding.left+"px",e.style.paddingRight=a.attrs.padding.right+"px",e.style.paddingBottom=a.attrs.padding.bottom+"px";var g=a.attrs.padding.top+a.attrs.padding.bottom+a.attrs.padding.right+a.attrs.padding.left;i!==g&&(i=g,y(a));var f=(t={},Object(b["a"])(t,p.IMAGE,!0),Object(b["a"])(t,p.TEXT,!0),Object(b["a"])(t,p.DATE,!0),t);a.realNodes.find((function(e){return f[e.type]}))?e.style.alignItems="flex-start":e.style.alignItems="center"}),{deep:!0,immediate:!0})}));var o=function(e){e.preventDefault(),e.stopPropagation();var a=t.value;a.style.opacity="0.5",e.dataTransfer.dropEffect="copy"},s=function(e){e.preventDefault(),e.stopPropagation();var n=t.value;n.style.opacity="";var r=e.dataTransfer,i=r.getData(g.TYPEOFADDEDWIDGET),o=L(i);o&&a.realNodes.push(o)},c=function(e){e.preventDefault(),e.stopPropagation();var a=t.value;a.style.opacity=""};return{myDOM:t,handleDragOver:o,handleDrop:s,handleDragLeave:c,selectCurWidget:i}}});a("be79");_.render=Y,_.__scopeId="data-v-22877752";var F=_,G=Object(n["z"])("data-v-5ad30389"),q=G((function(e,t,a,r,i,o){return Object(n["k"])(),Object(n["d"])("div",{class:"widgetDate",ref:"myDOM",onClick:t[1]||(t[1]=function(){return e.selectCurWidget&&e.selectCurWidget.apply(e,arguments)})},null,512)})),K=(a("99af"),a("c1df")),V=a.n(K),H=Object(n["h"])({props:{me:{type:Object,required:!0},parentType:{type:String,required:!0}},setup:function(e){var t=Object(n["p"])(),a=Object(n["o"])(e.me),r=Object(n["i"])(g.STATE),i=Object(n["p"])(e.parentType),o=function(e){e.stopPropagation(),e.preventDefault(),r.curWidget=a};return Object(n["j"])((function(){var e=t.value,o=r.rootWidget,s=a.attrs.font.size,c=a.attrs.lineLimit,d=a.attrs.minimumScaleFactor;Object(n["x"])(a,(function(){var t=a.size.height,n=a.size.width;e.style.width=n+"px",e.style.height=t+"px";var r=a.attrs.date,l=a.attrs.style;r&&("date"===l&&(a.text=V()(r).format("LL")),"time"===l&&(a.text=V()(r).format("LT")),"timer"===l&&(a.text=V()(r).format("LT")),"offset"===l&&(a.text=V()(r).format("LT")),"relative"===l&&(a.text=V()(r).format("LT"))),e.innerText!==a.text&&(e.innerText=a.text,y(o)),d!=a.attrs.minimumScaleFactor&&(d=a.attrs.minimumScaleFactor,y(o));var g=a.attrs.font.size,b=d*g,m=f(a.attrs.date,u.Y,{width:n},g);while(m>t&&g>b)g--,m=f(a.attrs.date,u.Y,{width:n},g);e.style.fontSize=g+"px",e.style.lineHeight=g+"px",s!=a.attrs.font.size&&(s=a.attrs.font.size,y(o)),c!=a.attrs.lineLimit&&(c=a.attrs.lineLimit,y(o)),e.style.color=a.attrs.textColor,e.style.opacity=a.attrs.textOpacity+"";var j=a.attrs.shadowOffset.x,h=a.attrs.shadowOffset.y,v=a.attrs.shadowRadius,O=a.attrs.shadowColor,x="".concat(j,"px ").concat(h,"px ").concat(v,"px ").concat(O);e.style.textShadow=x,i.value===p.LIST?e.style.alignSelf=a.attrs.alignText:e.style.alignSelf="flex-start";var w=Math.ceil(t/g);e.style.webkitLineClamp=w+""}),{deep:!0,immediate:!0})})),{selectCurWidget:o,myDOM:t}}});a("6c81");H.render=q,H.__scopeId="data-v-5ad30389";var U=H,B=Object(n["z"])("data-v-203f00cb"),J=B((function(e,t,a,r,i,o){return Object(n["k"])(),Object(n["d"])("div",{class:"widgetText",onClick:t[1]||(t[1]=function(){return e.selectCurWidget&&e.selectCurWidget.apply(e,arguments)}),ref:"myDOM"},null,512)})),$=Object(n["h"])({props:{me:{type:Object,required:!0},parentType:{type:String,required:!0}},setup:function(e){var t=Object(n["p"])(),a=Object(n["o"])(e.me),r=Object(n["i"])(g.STATE),i=Object(n["p"])(e.parentType),o=function(e){e.stopPropagation(),e.preventDefault(),r.curWidget=a};return Object(n["j"])((function(){var e=t.value,o=r.rootWidget,s=a.attrs.font.size,c=a.attrs.lineLimit,d=a.attrs.minimumScaleFactor;Object(n["x"])(a,(function(){var t=a.size.height,n=a.size.width;e.style.width=n+"px",e.style.height=t+"px",e.innerText!==a.attrs.text&&(e.innerText=a.attrs.text,y(o)),d!=a.attrs.minimumScaleFactor&&(d=a.attrs.minimumScaleFactor,y(o));var r=a.attrs.font.size,l=d*r,g=f(a.attrs.text,u.Y,{width:n},r);while(g>t&&r>l)r--,g=f(a.attrs.text,u.Y,{width:n},r);e.style.fontSize=r+"px",e.style.lineHeight=r+"px",s!=a.attrs.font.size&&(s=a.attrs.font.size,y(o)),c!=a.attrs.lineLimit&&(c=a.attrs.lineLimit,y(o)),e.style.color=a.attrs.textColor,e.style.opacity=a.attrs.textOpacity+"";var b=a.attrs.shadowOffset.x,m=a.attrs.shadowOffset.y,j=a.attrs.shadowRadius,h=a.attrs.shadowColor,v="".concat(b,"px ").concat(m,"px ").concat(j,"px ").concat(h);e.style.textShadow=v,i.value===p.LIST?e.style.alignSelf=a.attrs.alignText:e.style.alignSelf="flex-start";var O=Math.ceil(t/r);e.style.webkitLineClamp=O+""}),{deep:!0,immediate:!0})})),{selectCurWidget:o,myDOM:t}}});a("2f69");$.render=J,$.__scopeId="data-v-203f00cb";var Q=$,Z=Object(n["z"])("data-v-4d35acd8");Object(n["n"])("data-v-4d35acd8");var ee={class:"mask",ref:"maskRef"},te={class:"border",ref:"borderRef"};Object(n["l"])();var ae=Z((function(e,t,a,r,i,o){return Object(n["k"])(),Object(n["d"])("div",{class:"widgetImage",ref:"widgetRef",onClick:t[2]||(t[2]=function(){return e.selectCurWidget&&e.selectCurWidget.apply(e,arguments)})},[Object(n["g"])("img",{class:"image",ref:"imageRef",onLoad:t[1]||(t[1]=function(){return e.handleLoad&&e.handleLoad.apply(e,arguments)})},null,544),Object(n["g"])("div",ee,null,512),Object(n["g"])("div",te,null,512)],512)})),ne=Object(n["h"])({props:{me:{type:Object,required:!0},parentType:{type:String,required:!0}},setup:function(e){var t=Object(n["p"])(),a=Object(n["p"])(),r=Object(n["p"])(),i=Object(n["p"])(),o=Object(n["o"])(e.me),s=Object(n["p"])(e.parentType),c=Object(n["i"])(g.STATE),d=function(e){e.stopPropagation(),e.preventDefault(),c.curWidget=o},l=!0,b=o.attrs.image,f=function(e){var t=e.target;o.rawImageSize[u.Y]=t.naturalHeight,o.rawImageSize[u.X]=t.naturalWidth,o.rawImageDate=P(a.value),(l||b!==o.attrs.image)&&(b=o.attrs.image,y(c.rootWidget),l=!1)};return Object(n["j"])((function(){var e=c.rootWidget,d=t.value,l=a.value,g=r.value,b=i.value,f=o.attrs.imageSize.width+o.attrs.imageSize.height,m=o.attrs.resizable,j=o.attrs.contentMode;Object(n["x"])(o,(function(t){l.src=t.attrs.image;var a=o.attrs.imageSize.width+o.attrs.imageSize.height;f!=a&&(f=a,y(e)),d.style.width=t.size.width+"px",d.style.height=t.size.height+"px",b.style.borderColor=o.attrs.borderColor,b.style.borderWidth=o.attrs.borderWidth+"px",d.style.opacity=o.attrs.imageOpacity+"",g.style.backgroundColor=o.attrs.tint.color,g.style.opacity=o.attrs.tint.opacity+"",s.value===p.LIST?d.style.alignSelf=o.attrs.alignImage:d.style.alignSelf="flex-start",j!==o.attrs.contentMode&&(j=o.attrs.contentMode,y(e));var n=o.rawImageSize[u.X]/o.rawImageSize[u.Y],r=+getComputedStyle(d).width.slice(0,-2),i=+getComputedStyle(d).height.slice(0,-2);if("fill"===o.attrs.contentMode&&o.attrs.imageSize.width+o.attrs.imageSize.height>0){var c=n*i;c>r?(l.style.width=c+"px",l.style.height=i+"px"):(c=1/n*r,l.style.width=r+"px",l.style.height=c+"px")}else l.style.width="100%",l.style.height="100%";m!==o.attrs.resizable&&(m=o.attrs.resizable,y(e)),m?(l.style.width="100%",l.style.height="100%"):(l.style.width=o.rawImageSize.width+"px",l.style.height=o.rawImageSize.height+"px"),o.attrs.containerRelativeShape?(b.style.borderRadius=o.attrs.cornerRadius+"px",l.style.borderRadius="0px"):(b.style.borderRadius=o.attrs.cornerRadius+"px",l.style.borderRadius=o.attrs.cornerRadius+"px");var h=+getComputedStyle(l).width.slice(0,-2)-+getComputedStyle(d).width.slice(0,-2),v=+getComputedStyle(l).height.slice(0,-2)-+getComputedStyle(d).height.slice(0,-2);l.style.left=-h/2+"px",l.style.top=-v/2+"px"}),{deep:!0,immediate:!0})})),{widgetRef:t,imageRef:a,maskRef:r,borderRef:i,selectCurWidget:d,handleLoad:f}}});a("5006");ne.render=ae,ne.__scopeId="data-v-4d35acd8";var re=ne,ie=Object(n["z"])("data-v-7553e4e2"),oe=ie((function(e,t,a,r,i,o){return Object(n["k"])(),Object(n["d"])("div",{class:"widgetSpacer",onClick:t[1]||(t[1]=function(){return e.selectCurWidget&&e.selectCurWidget.apply(e,arguments)}),ref:"myDOM"},null,512)})),se=Object(n["h"])({props:{me:{type:Object,required:!0}},setup:function(e){var t=Object(n["p"])(),a=Object(n["o"])(e.me),r=Object(n["i"])(g.STATE),i=function(e){e.stopPropagation(),e.preventDefault(),r.curWidget=a};return Object(n["j"])((function(){var e=t.value,i=r.rootWidget;y(i);var o=a.attrs.length;Object(n["x"])(a,(function(t){e.style.width=t.size.width?t.size.width+"px":"",e.style.height=t.size.height?t.size.height+"px":"",o!==t.attrs.length&&(o=t.attrs.length,y(i))}),{deep:!0,immediate:!0})})),{selectCurWidget:i,myDOM:t}}});a("dc97");se.render=oe,se.__scopeId="data-v-7553e4e2";var ce=se,de=Object(n["z"])("data-v-6d792e0d"),le=de((function(e,t,a,r,i,o){return Object(n["k"])(),Object(n["d"])("div",{class:"widgetStack",ref:"myDOM",onDragover:t[1]||(t[1]=function(){return e.handleDragOver&&e.handleDragOver.apply(e,arguments)}),onDrop:t[2]||(t[2]=function(){return e.handleDrop&&e.handleDrop.apply(e,arguments)}),onDragleave:t[3]||(t[3]=function(){return e.handleDragLeave&&e.handleDragLeave.apply(e,arguments)}),onClick:t[4]||(t[4]=function(){return e.selectCurWidget&&e.selectCurWidget.apply(e,arguments)})},[(Object(n["k"])(!0),Object(n["d"])(n["a"],null,Object(n["q"])(e.me.showNodes,(function(t){return Object(n["k"])(),Object(n["d"])(Object(n["s"])(t.type),{key:t.id,me:t,parentType:e.me.type},null,8,["me","parentType"])})),128))],544)})),pe=Object(n["h"])({props:{me:{type:Object,required:!0}},setup:function(e){var t=Object(n["p"])(),a=Object(n["o"])(e.me),r=Object(n["i"])(g.STATE);Object(n["j"])((function(){var e=t.value,i=r.rootWidget,o=a.realNodes.length,s=a.attrs.layout,c=a.attrs.size.width+a.attrs.size.height,d=a.attrs.padding.top+a.attrs.padding.bottom+a.attrs.padding.right+a.attrs.padding.left,l=a.attrs.spacing;Object(n["x"])([a.realNodes,a.attrs,a.size],(function(){a.realNodes.length===o&&l===a.attrs.spacing||(o=a.realNodes.length,l=a.attrs.spacing,a.showNodes=a.realNodes.map((function(e){return e})),l>0&&a.showNodes.forEach((function(e,t,a){if(t!=o-1){var n=L(p.SPACER);n.attrs.length=l,a.splice(2*t-1,0,n)}})),y(i));var t=a.attrs.size.width+a.attrs.size.height;c!==t&&(c=t,y(i)),e.style.width=a.size.width+"px",e.style.height=a.size.height+"px",a.attrs.layout===u.Y?e.style.flexDirection="column":e.style.flexDirection="row",s!==a.attrs.layout&&(s=a.attrs.layout,y(r.rootWidget)),e.style.backgroundColor=a.attrs.backgroundColor,e.style.backgroundImage="";var n=a.attrs.backgroundGradient.angle+"deg",g=a.attrs.backgroundGradient.colors.split(","),b=a.attrs.backgroundGradient.locations.split(","),f=g.reduce((function(e,t,a){var n=100*Number(b[a])+"%";return e+t+" "+n+","}),"").slice(0,-1);e.style.backgroundImage="linear-gradient("+n+", "+f+" )";var m=a.attrs.backgroundImage;if(m){var j=new Image;j.onload=function(){var t=P(j);e.style.backgroundImage="url("+t+")",a.bgImageDate=t.slice(22)},j.src=m}e.style.borderColor=a.attrs.borderColor,e.style.borderWidth=a.attrs.borderWidth+"px",e.style.borderRadius=a.attrs.cornerRadius+"px",e.style.paddingTop=a.attrs.padding.top+"px",e.style.paddingLeft=a.attrs.padding.left+"px",e.style.paddingRight=a.attrs.padding.right+"px",e.style.paddingBottom=a.attrs.padding.bottom+"px";var h=a.attrs.padding.top+a.attrs.padding.bottom+a.attrs.padding.right+a.attrs.padding.left;d!==h&&(d=h,y(i)),"row"===e.style.flexDirection?e.style.alignItems=a.attrs.alignContent:e.style.alignItems="flex-start"}),{deep:!0,immediate:!0})}));var i=function(e){e.preventDefault(),e.stopPropagation();var a=t.value;a.style.opacity="0.5",e.dataTransfer.dropEffect="copy"},o=function(e){e.preventDefault(),e.stopPropagation();var n=t.value;n.style.opacity="";var r=e.dataTransfer,i=r.getData(g.TYPEOFADDEDWIDGET),o=L(i);o&&a.realNodes.push(o)},s=function(e){e.preventDefault(),e.stopPropagation();var a=t.value;a.style.opacity=""},c=function(e){e.stopPropagation(),e.preventDefault(),r.curWidget=a};return{myDOM:t,handleDragOver:i,handleDrop:o,handleDragLeave:s,selectCurWidget:c}}});a("fb3e");pe.render=le,pe.__scopeId="data-v-6d792e0d";var ue=pe,ge={ListWidget:F,WidgetDate:U,WidgetText:Q,WidgetImage:re,WidgetSpacer:ce,WidgetStack:ue},be=(a("b0c0"),Object(n["z"])("data-v-33d457f0"));Object(n["n"])("data-v-33d457f0");var fe={key:0},me={key:1},ye={key:2};Object(n["l"])();var je=be((function(e,t,a,r,i,o){var s=Object(n["r"])("_self");return Object(n["k"])(),Object(n["d"])(n["a"],null,[Object(n["f"])(Object(n["t"])(e.config.name)+" ",1),"title"==e.config.type?(Object(n["k"])(),Object(n["d"])("div",fe,[(Object(n["k"])(!0),Object(n["d"])(n["a"],null,Object(n["q"])(e.config.content,(function(t,a){return Object(n["k"])(),Object(n["d"])("div",{key:e.id+a},[Object(n["g"])(s,{config:t,model:e.myModel,myKey:a,id:e.id},null,8,["config","model","myKey","id"])])})),128))])):"select"==e.config.type?(Object(n["k"])(),Object(n["d"])("div",me,[Object(n["y"])(Object(n["g"])("select",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.myModel=t})},[(Object(n["k"])(!0),Object(n["d"])(n["a"],null,Object(n["q"])(e.config.options,(function(e,t,a){return Object(n["k"])(),Object(n["d"])("option",{value:e,key:a},Object(n["t"])(t),9,["value"])})),128))],512),[[n["v"],e.myModel]])])):(Object(n["k"])(),Object(n["d"])("div",ye,[Object(n["y"])(Object(n["g"])("input",{type:e.config.type,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.myModel=t})},null,8,["type"]),[[n["u"],e.myModel]])]))],64)})),he=Object(n["h"])({props:["config","model","myKey","id"],setup:function(e){var t=Object(n["o"])(e.config),a=Object(n["o"])(e.model),r=Object(n["p"])(e.myKey),i=void 0,o=t.valueType,s=Object(n["b"])({get:function(){return a[r.value]},set:function(e){clearInterval(i),i=setTimeout((function(){"string"!==o?"number"!==o?"boolean"===o&&(a[r.value]=Boolean(Number(e))):a[r.value]=Number(e):a[r.value]=String(e)}),1e3)}});return{myModel:s}}});a("0fc2");he.render=je,he.__scopeId="data-v-33d457f0";var ve=he,Oe=Object(n["z"])("data-v-092cb9ec");Object(n["n"])("data-v-092cb9ec");var xe={key:1};Object(n["l"])();var we=Oe((function(e,t,a,r,i,o){var s=Object(n["r"])("_self");return Object(n["k"])(),Object(n["d"])(n["a"],null,[Object(n["g"])("div",{class:"name",onClick:t[1]||(t[1]=function(){return e.selectCurWidget&&e.selectCurWidget.apply(e,arguments)})},Object(n["t"])(e.me.type),1),e.me.type===e.widgetType.STACK?(Object(n["k"])(),Object(n["d"])("button",{key:0,onClick:t[2]||(t[2]=function(t){return e.isShow=!e.isShow})},Object(n["t"])(e.isShow?"v":">"),1)):Object(n["e"])("",!0),e.me.type===e.widgetType.STACK?(Object(n["k"])(),Object(n["d"])("div",xe,[(Object(n["k"])(!0),Object(n["d"])(n["a"],null,Object(n["q"])(e.me.realNodes,(function(t){return Object(n["y"])((Object(n["k"])(),Object(n["d"])("div",{class:"node",key:t.id},[Object(n["g"])(s,{me:t},null,8,["me"])],512)),[[n["w"],e.isShow]])})),128))])):Object(n["e"])("",!0)],64)})),ze=Object(n["h"])({props:{me:{type:Object,required:!0}},setup:function(e){var t=Object(n["o"])(e.me),a=Object(n["p"])(!1),r=Object(n["i"])(g.STATE),i=function(e){e.stopPropagation(),e.preventDefault(),r.curWidget=t};return{widgetType:p,isShow:a,selectCurWidget:i}}});a("e062");ze.render=we,ze.__scopeId="data-v-092cb9ec";var Te=ze,Se=Object(n["c"])(N);V.a.locale("zh-cn"),Se.component("ListWidget",ge["ListWidget"]),Se.component("WidgetDate",ge["WidgetDate"]),Se.component("WidgetImage",ge["WidgetImage"]),Se.component("WidgetSpacer",ge["WidgetSpacer"]),Se.component("WidgetText",ge["WidgetText"]),Se.component("WidgetStack",ge["WidgetStack"]),Se.component("AttrItem",ve),Se.component("Node",Te),Se.mount("#app")},dc97:function(e,t,a){"use strict";a("c668")},dfa7:function(e,t,a){},e062:function(e,t,a){"use strict";a("1bd9")},f0cc:function(e,t,a){},fb3e:function(e,t,a){"use strict";a("6552")}});
//# sourceMappingURL=app.ee28a376.js.map